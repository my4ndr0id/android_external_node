
<script>
  var Tests = ['test/simple/path.js', 'test/simple/test-assert.js', 'test/simple/test-buffer.js', 'test/simple/test-crypto.js',
  'test/simple/test-dgram-udp4.js', 'test/simple/test-eio-race2.js', 'test/simple/test-eio-race4.js', 'test/simple/test-event-emitter-add-listeners.js',
  'test/simple/test-event-emitter-check-listener-leaks.js', 'test/simple/test-event-emitter-modify-in-emit.js', 'test/simple/test-event-emitter-num-args.js',
  'test/simple/test-event-emitter-once.js', 'test/simple/test-event-emitter-remove-all-listeners.js', 'test/simple/test-event-emitter-remove-listeners.js',
  'test/simple/test-file-read-noexist.js', 'test/simple/test-file-write-stream.js',
  'test/simple/test-fs-error-messages.js', 'test/simple/test-fs-fsync.js', 'test/simple/test-fs-open.js', 'test/simple/test-fs-read-buffer.js',
  'test/simple/test-fs-read-file-sync-hostname.js', 'test/simple/test-fs-read-file-sync.js', 'test/simple/test-fs-read-stream.js',
  'test/simple/test-fs-read.js', 'test/simple/test-fs-readfile-empty.js', 'test/simple/test-fs-stat.js', 'test/simple/test-fs-write-buffer.js',
  'test/simple/test-fs-write-file-buffer.js', 'test/simple/test-fs-write-file.js', 'test/simple/test-fs-write-stream-end.js',
  'test/simple/test-fs-write-stream.js', 'test/simple/test-fs-write-sync.js', 'test/simple/test-fs-write.js', 'test/simple/test-global.js',
  'test/simple/test-http-1.0.js', 'test/simple/test-http-abort-client.js', 'test/simple/test-http-allow-req-after-204-res.js',
  'test/simple/test-http-blank-header.js', 'test/simple/test-http-cat.js', 'test/simple/test-http-chunked.js', 'test/simple/test-http-client-abort.js',
  'test/simple/test-http-client-parse-error.js', 'test/simple/test-http-client-race-2.js', 'test/simple/test-http-client-race.js',
  'test/simple/test-http-client-upload-buf.js', 'test/simple/test-http-client-upload.js', 'test/simple/test-http-contentLength0.js',
  'test/simple/test-http-default-encoding.js', 'test/simple/test-http-eof-on-connect.js', 'test/simple/test-http-extra-response.js',
  'test/simple/test-http-head-request.js', 'test/simple/test-http-head-response-has-no-body.js', 'test/simple/test-http-host-headers.js',
  'test/simple/test-http-keep-alive-close-on-header.js', 'test/simple/test-http-keep-alive.js', 'test/simple/test-http-malformed-request.js',
  'test/simple/test-http-mutable-headers.js', 'test/simple/test-http-parser.js', 'test/simple/test-http-proxy.js', 'test/simple/test-http-request-end.js',
  'test/simple/test-http-response-close.js', 'test/simple/test-http-response-readable.js', 'test/simple/test-http-server-multiheaders.js',
  'test/simple/test-http-server.js', 'test/simple/test-http-set-cookies.js', 'test/simple/test-http-set-timeout.js', 'test/simple/test-http-upgrade-agent.js',
  'test/simple/test-http-upgrade-client.js', 'test/simple/test-http-upgrade-client2.js', 'test/simple/test-http-upgrade-server.js',
  'test/simple/test-http-wget.js', 'test/simple/test-http-write-empty-string.js', 'test/simple/test-http.js', 'test/simple/test-https-connecting-to-http.js',
  'test/simple/test-https-eof-for-eom.js', 'test/simple/test-listen-fd.js', 'test/simple/test-mkdir-rmdir.js', 'test/simple/test-net-can-reset-timeout.js',
  'test/simple/test-net-connect-buffer.js', 'test/simple/test-net-connect-handle-econnrefused.js', 'test/simple/test-net-create-connection.js',
  'test/simple/test-net-eaddrinuse.js', 'test/simple/test-net-keepalive.js', 'test/simple/test-net-server-bind.js', 'test/simple/test-net-server-try-ports.js',
  'test/simple/test-net-socket-timeout.js', 'test/simple/test-net-stream.js', 'test/simple/test-next-tick-ordering2.js',
  'test/simple/test-pump-file2tcp-noexist.js', 'test/simple/test-pump-file2tcp.js', 'test/simple/test-querystring.js', 'test/simple/test-readdir.js',
  'test/simple/test-readdouble.js', 'test/simple/test-readfloat.js', 'test/simple/test-readint.js', 'test/simple/test-readuint.js',
  'test/simple/test-regress-GH-784.js', 'test/simple/test-regress-GH-877.js', 'test/simple/test-require-exceptions.js',
  'test/simple/test-script-context.js', 'test/simple/test-script-new.js', 'test/simple/test-script-static-context.js', 'test/simple/test-script-static-new.js',
  'test/simple/test-script-static-this.js', 'test/simple/test-script-this.js', 'test/simple/test-stream-pipe-error-handling.js',
  'test/simple/test-stream-pipe-event.js', 'test/simple/test-string-decoder.js', 'test/simple/test-sync-fileread.js', 'test/simple/test-tcp-wrap-connect.js',
  'test/simple/test-tcp-wrap-listen.js', 'test/simple/test-timers-linked-list.js', 'test/simple/test-tls-connect.js',
  'test/simple/test-tls-junk-closes-server.js', 'test/simple/test-tls-request-timeout.js', 'test/simple/test-tls-set-encoding.js',
  'test/simple/test-utf8-scripts.js', 'test/simple/test-vm-create-context-circular-reference.js', 'test/simple/test-writedouble.js',
  'test/simple/test-writefloat.js', 'test/simple/test-writeint.js', 'test/simple/test-writeuint.js', 'test/simple/test-zerolengthbufferbug.js'];

function onLoad() {
  navigator.loadModule('test', function(module) {
      var index = 0;
      var runNextTest = function(html) {
        if (index < Tests.length) {
          document.getElementById('status').textContent = 'Running Test: ' + Tests[index];
          module.runTest(Tests[index++]);

          // load the page..
          var iframe = document.getElementById('iframe');
          iframe.width = innerWidth;
          iframe.height = innerHeight;
          iframe.contentDocument.body.innerHTML = html;
        } else {
          document.getElementById('status').textContent = 'Core Test run complete';
          window.location.reload();
        }
      }
      module.setTestCallback(runNextTest);
      module.runTest(Tests[index++]);
  });
}
</script>

<body onload='onLoad()'>
<p id="status"> Core Test run started </p>
<iframe id="iframe" frameborder="1" scrolling="yes" > </iframe>
</body>

